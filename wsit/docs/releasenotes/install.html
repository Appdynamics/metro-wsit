<html>
<head caption="Installing Metro to Web Containers">
    <link rel="stylesheet" type="text/css" href="style/default.css"/>
</head>
<body>

<a name="Installing"></a>
<h1>Installing Metro</h1>
<p>
The <tt>metro</tt> directory contains two <tt>ant</tt> files, <tt>wsit-on-glassfish.xml</tt>
and <tt>wsit-on-tomcat.xml</tt>. These
two files are used to install the Metro binaries into the respective web
containers. That procedure is explained next.

<h2>GlassFish</h2>
<p>
To install Metro into GlassFish, you must pass the name
of the GlassFish top-level directory into <tt>ant</tt>. For this example that
information is passed as an <tt>ant</tt>
property value
on the command line. To shutdown
the instance of GlassFish
into which you are installing Metro, change directories, invoke the <tt>install</tt> target, and then
restart the GlassFish instance, please run the following sequence of
commands:

<blockquote><pre>
asadmin stop-domain domain1
ant -Das.home=&lt;GF_INSTALL_DIR&gt; -f &lt;METRO_INSTALL_DIR&gt;/wsit-on-glassfish.xml install
asadmin start-domain domain1
</pre></blockquote>

<p>
This process copies the two Metro jar files into your GlassFish
installation's <tt>lib</tt>
directory and make the necessary classpath alterations in the
domain configuration file: <tt>domain.xml</tt>.
It will also update the classpath for the utility script files: <tt>wsimport</tt> and
<tt>wsgen</tt>.



<h2>Tomcat</h2>
<p>
The installation process for Tomcat is very similar to that of
GlassFish. Again, the top-level
directory of the Tomcat installation is passed as an argument to the <tt>ant</tt> command.
To shutdown Tomcat, change directories, invoke <tt>ant</tt>, and restart Tomcat by executing
these commands:

<blockquote><pre>
catalina.sh stop
ant -Dtomcat.home=&lt;TOMCAT_INSTALL_DIR&gt; -f &lt;METRO_INSTALL_DIR&gt;/wsit-on-tomcat.xml install
catalina.sh start
</pre></blockquote>

<p>
For Tomcat, the installation process copies the two Metro jar files
into Tomcat's <tt>shared/lib</tt>
directory. No Tomcat configuration files are modified.



<a name="Updating"></a>
<h1>Updating Metro</h1>
<p>
Once Metro has been installed to
a web container, it can be updated with new versions of the Metro
binaries. To update the jars, follow the same steps used for the
initial install, shown <a href="#Installing">above</a>. For
GlassFish, the second and subsequent installs will only update the Metro
binaries; no configuration files will be modified.


<a name="Uninstalling"></a>
<h1>Uninstalling Metro</h1>
<p>
To remove the Metro binaries and configuration changes from your web
container, the steps are almost identical to the install process.
The following steps will restore your web container to the state it was
in before Metro installation.

<h2>GlassFish</h2>
<blockquote><pre>
asadmin stop-domain domain1
ant -Das.home=&lt;GF_INSTALL_DIR&gt; -f &lt;METRO_INSTALL_DIR&gt;/wsit-on-glassfish.xml uninstall
asadmin start-domain domain1
</pre></blockquote>

<h2>Tomcat</h2>
<blockquote><pre>
catalina.sh stop
ant -Dtomcat.home=&lt;TOMCAT_INSTALL_DIR&gt; -f &lt;METRO_INSTALL_DIR&gt;/wsit-on-tomcat.xml uninstall
catalina.sh start 
</pre></blockquote>

</body>
</html>
